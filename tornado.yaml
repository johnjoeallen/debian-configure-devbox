# Global provisioning configuration template.
#
# Copy this file to config.yaml or <hostname>.yaml and adjust values as needed.
# Values in this file provide defaults. Create an additional YAML file named
# after the current host (e.g. tornado.yaml) in the same directory to override
# specific settings per machine.
#
# Boolean flags accept true/false. Omit or set to null to inherit defaults.

steps:
  ensureGroovy:
    # Ensure Groovy is installed before running other steps.
    enabled: true

  AdminGroupNopass:
    # Automatically add the invoking user to the passwordless admin group.
    adminGroup: admin
    addCurrentUser: true
    # Additional accounts to add to the admin group.
    users:
      - jallen

  Essentials:
    # Install baseline CLI packages required on all systems.
    packages:
      - curl
      - wget
      - zip
      - unzip
      - rsync
      - ca-certificates
      - gnupg
      - apt-transport-https
      - neovim alias vim

  GitPrompt:
    # Configure a Git-aware shell prompt sourced from ~/.bashrc.
    enabled: true
    promptFile: ~/.git-prompt.sh
    bashrcPath: ~/.bashrc

  Ntp:
    # Ensure systemd-timesyncd is installed and enabled.
    enabled: true

  NisSetup:
    # Provide a domain to enable NIS provisioning; leave null to skip.
    domain: dublinux.lan
    # Either a bare host/IP or a full "ypserver <host>" line.
    server: 10.0.0.1

  Nsswitch:
    # Ensure NIS entries are present in nsswitch.conf.
    enabled: true

  PamMkhomedir:
    # Install and enforce pam_mkhomedir for creating home directories.
    enabled: true

  DockerInstall:
    # Install Docker Engine and related tooling from the official repository.
    enabled: true

  DockerDataRoot:
    # Override the Docker data-root. Set to null to keep the default location.
    target: /data/docker

  DockerGroup:
    # Ensure the current user is a member of the docker group.
    ensureUser: true
    # Additional accounts to place in the docker group.
    users:
      - jallen
    enabled: true

  SdkmanInstall:
    # Ensure SDKMAN is present for managing language runtimes.
    enabled: true

  SdkmanMavenInstall:
    # Manage Maven installation via SDKMAN.
    version: null
    enabled: true

  SdkmanJavaInstall:
    # Manage Java runtimes via SDKMAN.
    defaultJava: 17.0.16-tem
    javaVersions:
      - 17.0.16-tem
      - 21.0.8-tem
      - 25-tem
    enabled: true

  Insomnia:
    # Install the Insomnia API client.
    enabled: true

  JetbrainsToolbox:
    # Install JetBrains Toolbox for IDE management.
    enabled: true

  GoogleChromeInstall:
    # Install Google Chrome Stable via the Google apt repository.
    enabled: true

  ExtendSuspend:
    # Ensure the system idle suspend delay is extended.
    enabled: true
    idleAction: suspend
    timeout: PT1H

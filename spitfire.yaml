# Global provisioning configuration template.
#
# Copy this file to config.yaml or <hostname>.yaml and adjust values as needed.
# Values in this file provide defaults. Create an additional YAML file named
# after the current host (e.g. fury.yaml) in the same directory to override
# specific settings per machine.
#
# Boolean flags accept true/false. Omit or set to null to inherit defaults.

steps:
  AdminGroupNopass:
    # Automatically add the invoking user to the passwordless admin group.
    adminGroup: admin
    addCurrentUser: true
    # Additional accounts to add to the admin group.
    users:
      - sysadmin

  Essentials:
    # Install baseline CLI packages required on all systems.
    packages:
      # Use "<package> alias <target>" to install a package, remove any package owning the target command, and point update-alternatives at the package's primary binary.
      # Use "<package> alias <source> -> <target>" to override the source command.
      - curl
      - wget
      - zip
      - unzip
      - rsync
      - ca-certificates
      - gnupg
      - apt-transport-https
      - neovim alias vim

  GitPrompt:
    # Configure a Git-aware shell prompt sourced from ~/.bashrc.
    enabled: true
    promptFile: ~/.git-prompt.sh
    bashrcPath: ~/.bashrc

  SdkmanInstall:
    # Ensure SDKMAN is present for managing language runtimes.
    enabled: true

  SdkmanMavenInstall:
    # Manage Maven installation via SDKMAN.
    version: 3.9.11
    enabled: true

  SdkmanJavaInstall:
    # Manage Java runtimes via SDKMAN.
    defaultJava: 17.0.16-tem
    javaVersions:
      - 17.0.16-tem
      - 21.0.8-tem
      - 25-tem
    enabled: true

  Insomnia:
    # Install the Insomnia API client.
    enabled: true

  GoogleChromeInstall:
    # Install Google Chrome Stable via the Google apt repository.
    enabled: false

  JetbrainsToolbox:
    # Install JetBrains Toolbox for IDE management.
    enabled: true

  DebianMirror:
    # Configure and serve a local Debian apt mirror via Apache.
    enabled: true
    siteFqdn: mirror.dublinux.lan
    mirrorRoot: /data/mirrors
    distributions:
      - bookworm
      - trixie
    components:
      - main
      - contrib
      - non-free
      - non-free-firmware
    includeUpdates: true
    includeBackports: true
    securitySuites:
      - bookworm-security
      - trixie-security
    threads: 20
    runInitialSync: true
    cronEnabled: true

  ExtendSuspend:
    # Ensure the system idle suspend delay is extended.
    enabled: true
    idleAction: suspend
    timeout: PT1H
